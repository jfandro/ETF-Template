
@section header
{
}

<!-- Navigation-->
<nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
    <div class="container px-4 px-lg-5">
        <a class="navbar-brand" href="#start">ETF Reporting</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ms-auto my-2 my-lg-0">
                <li class="nav-item"><a class="nav-link" href="#edition">Editeur</a></li>
                <li class="nav-item"><a class="nav-link" href="#about">Services</a></li>
                <li class="nav-item"><a class="nav-link" href="#samples">Exemples</a></li>
                <li class="nav-item"><a class="nav-link" href="#prices">Prix</a></li>
                <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
            </ul>
        </div>
    </div>
</nav>


<!-- Masthead-->
<header class="masthead">
    <div class="container px-4 px-lg-5 h-100" id="start">
        <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center">
            <div class="col-lg-8 align-self-end">
                <div class="logo-container"><img class="logo-img" title="ETF Reporting" src="~/Resources/ETFReporting.jpg" /></div>
                <h1 class="text-white text-capitalize font-weight-bold">@Html.Raw(Resources.Home.title)</h1>
            </div>

            <div class="col-lg-8 align-self-baseline">
                <p class="btn-group btn-group-sm text-center">
                    <a class="btn btn-dark" href="#edition">Mode Edition</a>
                    <a class="btn btn-dark" href="#upload">Mode Fichier</a>
                </p>
            </div>
        </div>
    </div>
</header>

<section id="edition" class="page-section bg-light min-vh-100">
    <div class="container px-4 px-lg-2">
        <h2 class="text-center"><i class="fa fa-2x fa-edit"></i></h2>
        <div class="py-5">
            <em>
                Cet éditeur permet de créer, d'enregistrer et d'analyser votre scénario.
                Insérez une à une les opérations qui le composent.
                Compte tenu des options proposées, prenez un soin particulier au <a href="#" data-bs-toggle="modal" data-bs-target="#help-edit">type d'opération</a>
                et au <a href="#" data-bs-toggle="modal" data-bs-target="#help-units">mode de saisie</a> retenus.
                Enregistrez votre scénario sur fichier si vous souhaitez <a href="#upload">recharger</a> ultérieurement
                une analyse réactualisée, ou éventuellement l'appliquer à un autre portefeuille.
                Avant de lancer une analyse, n'oubliez pas de vérifier et d'enregistrer 
                les paramètres de votre <a href="#" data-bs-toggle="modal" data-bs-target="#option-modal">portefeuille</a>.
            </em>
        </div>
        <div class="row">
            <div class="col-sm-6 col-xs-12">
                <h3 class="pb-2 border-bottom text-lg-center">Mes opérations</h3>
                <div>
                    <form class="form-add">
                        <div class="mb-3 form-floating">
                            <input class="form-control form-control-md" list="datalistOptions" id="assetid" name="securityid" placeholder="Type to search...">
                            <datalist id="datalistOptions">
                            </datalist>
                            <label for="assetid">Code ISIN, symbole (ex CW8) ou code devise (ex EUR)</label>
                        </div>
                        <div class="row">
                            <div class="col-md-4 col-xs-6">
                                <div class="mb-3 form-floating datepick">
                                    <input type="date" class="form-control" id="vd" value="2020-01-03">
                                    <label for="valuedate">Date</label>
                                    <input type="hidden" id="valuedate" name="valuedate" />
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-6">
                                <div class="mb-3 form-floating">
                                    <select class="form-select" aria-label="Default select example" id="status" name="status">
                                        <option value="">Arbitrage</option>
                                        <option selected value="INV">Investissement</option>
                                        <option value="EXT">Apport/Retrait</option>
                                        <option value="IMP">Reprise de stock</option>
                                    </select>
                                    <label for="status">Type d'opération</label>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-6">
                                <div class="mb-3 form-floating">
                                    <select class="form-select" aria-label="Default select example" id="units" name="units">
                                        <option value="S">Nombre de titres</option>
                                        <option selected value="M">Montant</option>
                                        <option value="P">% Portefeuille</option>
                                        <option value="L">% Liquidités</option>
                                        <option value="X">% Position</option>
                                    </select>
                                    <label for="units">Mode de saisie</label>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-6">
                                <div class="mb-3 form-floating">
                                    <input type="text" class="form-control text-end" id="value" name="value" value="100" step="0.01">
                                    <label id="label-value" for="value">% Portefeuille</label>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-6">
                                <div class="mb-3 form-floating">
                                    <input type="number" class="form-control text-end" id="price" name="price" step="0.001" min="0" value="">
                                    <label for="value">Prix unitaire (*)</label>
                                </div>
                            </div>

                            <div class="col-md-4 col-xs-6">
                                <div class="mb-3 form-floating">
                                    <select class="form-select" aria-label="Default select example" id="ccy" name="ccy">
                                        <option selected value="EUR">Euro</option>
                                        <option value="USD">US dollar</option>
                                        <option value="GBP">GB Pound</option>
                                    </select>
                                    <label for="status">Devise</label>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-6">
                                <div class="mb-3 form-floating">
                                    <select class="form-select" aria-label="Default select example" id="programcode" name="programcode">
                                        <option selected value="">Aucun</option>
                                        <option value="1M">Chaque mois</option>
                                        <option value="3M">Chaque trimestre</option>
                                        <option value="6M">Chaque semestre</option>
                                        <option value="12M">Chaque année</option>
                                    </select>
                                    <label for="status">Renouvellement</label>
                                </div>
                            </div>
                            <div class="col-md-8 col-xs-6">
                                <div class="mb-3 form-floating">
                                    <input type="text" class="form-control" id="comment" name="comment" value="">
                                    <label for="comment">Commentaire de gestion</label>
                                </div>
                            </div>
                            <em class="small">En l'absence de prix, c'est le cours de cloture qui sera pris comme prix de négociation ou de reprise.</em>
                        </div>
                        <div class="row">
                            <div class="d-md-flex justify-content-md-end py-3">
                                <div class="btn-group">
                                    <button type="submit" class="btn btn-outline-dark btn-add">Insérer <i class="fa fa-arrow-right"></i></button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
            <div class="col-sm-6 col-xs-12">
                <h3 class="pb-2 border-bottom text-lg-center">Mon scénario</h3>
                <div class="scenario-container">
                    <ul id="evaluations"></ul>
                </div>
                <form id="operations-upload">
                    <input name="portfoliocode" type="hidden" id="portfoliocode" />
                    <input name="resetportfolio" type="hidden" value="false" />
                    <div class="table-responsive table-responsive-sm visually-hidden">
                        <table class="table table-bordered ">
                            <thead>
                                <tr>
                                    <th>Code</th>
                                    <th>Date Valeur</th>
                                    <th>Statut</th>
                                    <th>Valeur</th>
                                    <th>Unité</th>
                                    <th>Prix</th>
                                    <th>Devise</th>
                                    <th>Prog</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="d-md-flex justify-content-center py-5">
                        <div class="btn-group">
                            <button class="btn btn-outline-dark btn-download" type="button">Enregistrer <i class="fa fa-save"></i></button>
                            <button class="btn btn-primary" type="submit">@Html.Raw(Resources.Home.analyze) <i class="fa fa-check"></i></button>
                        </div>
                    </div>
                    <p class="message fade">Veuillez patienter ...</p>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="help-edit" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Type d'opération</h5>
                </div>
                <div class="modal-body">
                    <ul>
                        <li>
                            Choisissez <b>Arbitrage</b> pour tout achat et vente de titres
                            sans apport ni retrait en espèces du portefeuille.
                        </li>
                        <li>
                            Choisissez <b>Investissement</b> pour tout achat et vente de titres
                            accompagné d'un apport/retrait en espèces égal au montant investi/désinvesti.
                        </li>
                        <li>
                            Choisissez <b>Apport/retrait</b> pour tout mouvement en espèces
                            autre qu'un revenu, dividende ou remboursement.
                        </li>
                        <li>
                            Choisissez <b>Reprise de stock</b> pour toute saisie
                            d'inventaire, le prix étant le prix de revient, et la date celle du relevé.
                        </li>
                    </ul>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="help-units" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Mode de saisie</h5>
                </div>
                <div class="modal-body">
                    <ul>
                        <li>
                            Choisissez <b>Nombre de titres</b> pour toute opération
                            négociée en nombre de parts. Doit être cohérent avec la propriété <em>fraction de titres</em> du portefeuille.
                        </li>
                        <li>
                            Choisissez <b>Montant</b> pour toute opération
                            négociée en devise du portefeuille. Une contrevaleur est appliquée si le titre est coté dans une devise étrangère.
                        </li>
                        <li>
                            Choisissez <b>% Portefeuille</b> pour toute opération
                            opérant un arbitrage pour atteindre une exposition donnée.
                            Une valeur de 20 indique qu'au terme de l'opération, 20% du portefeuille sera exposé au titre référencé.
                        </li>
                        <li>
                            Choisissez <b>% Liquidités</b> pour tout achat impliquant les liquidités restantes.
                            Une valeur de 50 indique que 50% des liquidités seront investies sur le titre référencé.
                        </li>
                        <li>
                            Choisissez <b>% Position</b> pour toute opération sur un stock de titres non soldé.
                            Une valeur de -50 indique que la moitié des titres référencés seront vendus.
                        </li>
                    </ul>

                </div>
            </div>
        </div>
    </div>

</section>

<section class="page-section bg-primary bg-opacity-25 min-vh-100" id="upload">
    <div class="container align-content-center px-4 px-lg-5">
        <h2 class="text-center"><i class="fa fa-2x fa-upload"></i></h2>
        <div class="py-5">
            <em>
                Sélectionnez un fichier contenant votre scénario et respectant ce <a href="#help">format</a>.
                Avant de lancer son analyse, vérifiez les caractéristiques du <a href="#" data-bs-toggle="modal" data-bs-target="#option-modal">portefeuille</a>
                qui logera les opérations.
                Si vous n'avez pas de fichier, utilisez <a href="#edition">l'éditeur intégré</a>,
                ou copiez l'un des <a href="#samples">exemples</a> mis à votre disposition sur le site.
            </em>
        </div>

        <div class="col-lg-8 align-self-baseline">
            <div class="form-container">
                <form id="upload-frm" class="upload py-3">
                    <div class="input-group mb-3">
                        <input type="file" class="form-control" id="file">
                        @*<button type="submit" class="input-group-text" for="file">@Html.Raw(Resources.Home.analyze)</button>*@
                    </div>
                    <button class="btn btn-primary" type="submit">@Html.Raw(Resources.Home.analyze) <i class="fa fa-check"></i></button>
                    <div>
                        <input type="hidden" name="code" id="code" value="" />
                        <input type="hidden" name="FileUpload" value="true" />
                        <input type="hidden" name="IsModel" value="false" />
                        <input type="hidden" name="Minutes" value="5" />
                        <input type="hidden" name="UniverseAssetControl" value="1" />
                    </div>
                    <div id="option-modal" class="modal fade text-black" data-bs-backdrop="static" data-bs-keyboard="false">
                        <div class="modal-dialog">
                            <div class="modal-content" style="text-align:left; font-size:smaller;text-shadow:none;">
                                <div class="modal-header">
                                    <h5 class="modal-title">@Resources.Home.options</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="mb-3 form-floating">
                                        <input type="text" class="form-control" id="Name" name="Name" value="Mon Portefeuille">
                                        <label for="Name">@Resources.Home.name</label>
                                    </div>
                                    <div class="row">
                                        <div class="col mb-3">
                                            <div class="form-floating">
                                                <select class="form-select" aria-label="Default select example" id="RiskLevel" name="RiskLevel">
                                                    <option value="3">@Resources.Home.care</option>
                                                    <option selected value="4">@Resources.Home.balanced</option>
                                                    <option value="5">@Resources.Home.offensive</option>
                                                    <option value="6">@Resources.Home.agressive</option>
                                                </select>
                                                <label for="RiskLevel">@Resources.Home.riskprofile</label>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <div class="mb-3 form-floating">
                                                <input type="text" class="form-control text-end" id="ManagementFeesRate" name="ManagementFeesRate" value="0">
                                                <label for="ManagementFeesRate">@Resources.Home.fees</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3 form-floating">
                                        <select class="form-select" id="UniverseID" name="UniverseID" data-notselected="@Resources.Home.nouniverse"></select>
                                        <label for="UniverseID">@Resources.Home.universe</label>
                                    </div>
                                    <div class="mb-3 form-floating">
                                        <select class="form-select" id="BenchmarkID" name="BenchmarkID" data-notselected="@Resources.Home.nobenchmark"></select>
                                        <label for="BenchmarkID">@Resources.Home.benchmark</label>
                                    </div>
                                    <div class="mb-3 form-floating">
                                        <select class="form-select" id="TradingRuleID" name="TradingRuleID" data-notselected="@Resources.Home.nodomiciliation"></select>
                                        <label for="TradingRuleID">@Resources.Home.tradingrule</label>
                                    </div>
                                    <div class="mb-3 form-floating">
                                        <select class="form-select" id="DomiciliationID" name="DomiciliationID" data-notselected="@Resources.Home.nodomiciliation"></select>
                                        <label for="Domiciliation">@Resources.Home.domiciliation</label>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="AllowFractionalShares" name="AllowFractionalShares">
                                        <label class="form-check-label" for="AllowFractionalShares">@Resources.Home.fractionable</label>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="DividendCompounding" name="DividendCompounding">
                                        <label class="form-check-label" for="DividendCompounding">@Resources.Home.divc</label>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">@Resources.Home.close</button>
                                    <button type="button" class="btn btn-dark" onclick="saveOptions()">@Resources.Home.save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <p class="message fade">Veuillez patienter ...</p>
        </div>

    </div>
</section>

<!-- About-->
<section class="page-section bg-black" id="about">
    <div class="container-fluid px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-lg-8 text-center">
                <h2 class="text-white mt-0">
                    <span class="text-primary">15</span> services professionnels
                </h2>
                <p class="text-white-75"><em>pour</em></p>
                <p class="text-white-75 mb-4">
                    Comprendre <i class="fa fa-diamond text-primary small"></i>
                    Optimiser <i class="fa fa-diamond text-primary small"></i>
                    Partager
                </p>
                <hr class="divider divider-light" />
                <div class="album py-5">
                    <div class="container">
                        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" width="100%" height="225" src="~/Assets/images/Nav.png" />
                                    <div class="card-body">
                                        <h2>Piloter vos portefeuilles comme un pro</h2>
                                        <p class="card-text">
                                            Véritables avoirs ou résultats de backtest,
                                            vos portefeuilles seront traités et analysés comme des fonds avec
                                            une séparation entre <b>passif</b> (apports et retraits) et <b>actifs</b> (achats, ventes, dividendes).
                                            gestion de parts et détermination quotidienne d'une <b>valeur liquidative</b>.
                                            C'est la seule méthode pour calculer des principaux indicateurs de performances,
                                            de rendement et de risques (volatilités, VaR et pertes maximales),
                                            la seule pour <b>comparer</b>
                                            votre stratégie avec celles d'autres portefeuilles ou d'autres fonds.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" width="100%" height="225" src="~/Assets/images/positions.png" />
                                    <div class="card-body">
                                        <h2>Connaitre le rendement de ses avoirs</h2>
                                        <p class="card-text">
                                            Une fois reprise l'activité historique d'un portefeuille,
                                            nous procédons à sa <b>tenue de positions</b>
                                            du premier jour à la date du jour.
                                            Opérations sur titre (dividende, division, fusion ...)
                                            et taux de change sont automatiquement pris en charge par nos services
                                            afin de vous donner tous les indicateurs de <b>performances</b> , de <b>rentabilité</b>
                                            et de <b>risques</b> qualifiant avec précision le comportement financier et extra financier
                                            de votre portefeuilles. Toutes ces informations détaillées
                                            sont <b>libre d'accès</b> par téléchargement ou API (voir licence)
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" width="100%" height="225" src="~/Assets/images/agreg.png" />
                                    <div class="card-body">
                                        <h2>Agréger vos portefeuilles</h2>
                                        <p class="card-text">
                                            Si votre patrimoine ETF est réparti sur <b>plusieurs contrats, plans ou comptes</b>,
                                            alors nous vous donnons la possibilité d'agréger leurs histoires passées
                                            afin d'avoir une vision consolidée et juste de vos performances, de vos expositions
                                            et surtout des risques pris.
                                            N'oubliez jamais que les indicateurs de risques ne sont pas des fonctions arithmétiques
                                            et qu'une agrégation de portefeuilles requiert un retraitement complet depuis l'origine.
                                            Service indispensable et unique.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" width="100%" height="225" src="~/Assets/images/screeners.png" />
                                    <div class="card-body">
                                        <h2>Accélérer vos recherches</h2>
                                        <p class="card-text">
                                            Tout au long de votre parcours sur ce site,
                                            vous allez vivre des <b>expériences</b> uniques et
                                            bénéficier des dernières <b>innovations technologiques</b>
                                            pour comprendre et trouver rapidement et intuitivement vos portefeuilles
                                            ainsi que les fonds qui correspondent
                                            à vos critères,
                                            qu'il s'agisse de <b>caractéristiques statiques</b> ou d'<b>indicateurs dynamiques</b>.
                                            Dans un univers de plus en plus riche et diversifié,
                                            nous mettrons tout en oeuvre pour que vous trouviez en quelques secondes
                                            les supports qui correspondent à vos projets:
                                            notations, frais de gestion, expositions, indicateurs de performances et de risques.
                                            La <b>datavisualisation</b> au service de l'investisseur. Au doigt et à l'oeil.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" width="100%" height="225" src="~/Assets/images/comparison.png" />
                                    <div class="card-body">
                                        <h2>Se repérer pour pouvoir s'adapter</h2>
                                        <p class="card-text">
                                            Notre mission n°1 est de vous aider à comprendre
                                            vos portefeuilles,
                                            au passé, au présent et un peu au futur.
                                            Mais pour apprécier ces informations et les calculs réalisées,
                                            nous allons vous doter de différents <b>comparateurs</b>.
                                            Leur fonction est de vous donner des points de repère par rapport
                                            à d'autres ETF, des marchés ou d'autres portefeuilles/modèles
                                            proposés par le marché ou par des professionnels en allocations d'actifs.
                                            Un doute sur un ETF? on vous donne des <b>alternatives</b> proposés par le marché.
                                            Un doute sur votre stratégie ? on vous propose des <b>alternatives</b> conçues par des professionnels.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/results.png" />
                                    <div class="card-body">
                                        <h2>Comprendre les contributions aux résultats</h2>
                                        <p class="card-text">
                                            Quels ETF, quelles classes d'actifs, quels émetteurs ou quels ratings ont contribué
                                            le plus ou le moins aux performances et aux risques de vos portefeuilles?
                                            Sur l'année en cours, depuis la création du portefeuille ou sur une période passée,
                                            nous allons vous donner les réponses à ces questions et
                                            vous aider à identifier les sources de profits, de pertes et de volatilité.
                                            Nos datavisualisations interactives vont vous aider à
                                            isoler ou exclure l'impact d'un titre ou d'un ensemble de titres sur vos résultats.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/correlations.png" />
                                    <div class="card-body">
                                        <h2>Diversifier vos avoirs pour réduire vos risques</h2>
                                        <p class="card-text">
                                            La <b>diversification</b>, tout le monde s'accorde à dire que c'est l'une des clefs majeures
                                            pour maitriser les risques et atteindre ses objectifs. Ne pas mettre tous ses oeufs dans le même panier, soit
                                            mais comment s'en assurer?
                                            En premier lieu, un visuel intuitif et coloré
                                            vous aidera à vite comprendre dans quelles proportions
                                            vos ETF sont corrélés ou pas. En clair, si sur un passé récent ou lointain,
                                            vos fonds se comportent ou pas de manière similaire.
                                            Ensuite, nous estimerons la <b>volatilité prévisionnelle</b> de votre protefeuille
                                            sur la base des <b>corrélations</b> constatées sur les dernières années
                                            et vos positions actuelles.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/exposures.png" />
                                    <div class="card-body">
                                        <h2>Ajuster vos expositions</h2>
                                        <p class="card-text">
                                            Nous ferons tout pour vous donner le plus d'informations sur vos différentes <b>expositions</b>
                                            afin de ne pas concentrer vos risques sur une même classe d'actifs, une même zone géographique,
                                            une même thématique ou un même secteur économique. La diversification avant tout.
                                            Si la transparence est clef dans le pilotage des risques de votre
                                            portefeuille afin de <b>réduire les concentrations</b>, vous ne garantissons pas
                                            l'exactitude ni l'exhaustivité ni la fraîcheur des informations collectées.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/topholdings.png" />
                                    <div class="card-body">
                                        <h2>Identifier vos principales participations</h2>
                                        <p class="card-text">
                                            Dans la mesure du possible, nous ferons tout pour collecter les inventaires
                                            des fonds références sur le site afin que vous puissiez identifier
                                            les principaux titres dans lesquels vous êtes indirectement investis.
                                            La collecte de ces données
                                            est un exercice complexe quand il s'applique sur plus de 1250 ETF.
                                            Notre mission est aussi d'identifier des entreprises
                                            que vous ne voulez pas avoir
                                            en portefeuille (<b>black-list</b>)
                                            ou celles que vous voulez avoir (<b>white-list</b>)
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/program.png" />
                                    <div class="card-body">
                                        <h2>Simuler son programme d'épargne ou de rente</h2>
                                        <p class="card-text">
                                            Si vous placez la même somme sur les mêmes supports à un rythme régulier
                                            (stratégie <b>DCA</b> <em>Dollar Cost Average</em>),
                                            alors ce service va cosnidérablement vous aider à construire votre <b>stratégie passive</b>.
                                            A partir d'une allocation modèle,
                                            nous vous donnerons la valeur actuelle de votre capital et le rendement de votre stratégie
                                            en simulant soit des apports réguliers (cas d'un plan épargne),
                                            soit des retraits réguliers (cas d'une rente) en tenant compte d'une évolution régulière de ces derniers.
                                            Il s'agit d'un <b>backtest</b>, les performances passées ne présageant pas des
                                            performances futures.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div id="vigie" class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/technicals.png" />
                                    <div class="card-body">
                                        <h2>Suivre ses signaux de marché</h2>
                                        <p class="card-text">
                                            Pour les plus avisés qui sont à l'écoute des <b>signaux</b> émis par les indices de marché via les ETF,
                                            que vous soyez dans une gestion <b>active</b> ou <b>passive</b> de vos portefeuilles,
                                            nous mettons à votre disposition un pack de services pour suivre
                                            les <b>principaux indicateurs techniques</b> les plus communs
                                            : moyennes mobiles, arithmétiques ou exponentielles, momentum, RSI, extrapolation ...
                                            Rien ne vous échappera avec <b>vos paramètres</b> pour identifier
                                            vos tendances baissières et haussières,
                                            pour détecter les opportunités de placement ou de retrait.
                                            Vous devez disposer d'un profil <a href="#prices" title="Profil">investor</a> pour utiliser ce service.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/meteo.png" />
                                    <div class="card-body">
                                        <h2>Etre alerté en cas de changement de tendances</h2>
                                        <p class="card-text">
                                            Exclusivité de la plateforme, c'est l'un des services les plus utiles de cette boite à outils.
                                            Extension de la <a href="#vigie">vigie</a>, ce service scrute pour vous
                                            les signaux de tous les ETF d'un univers donné. Selon vos paramètres.
                                            Désormais vous pouvez oublier vos portefeuilles, et
                                            <b>lorsqu'un signal sera détecté, nous vous transmettrons son occurence par email</b>.
                                            C'est ensuite de votre responsabilité de faire le nécessaire.
                                            Vous devez disposer d'un profil <a href="#prices" title="Profil">investor</a> pour utiliser ce service.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/converter.png" />
                                    <div class="card-body">
                                        <h2>Optimiser son allocation</h2>
                                        <p class="card-text">
                                            Vous avez en tête une stratégie.
                                            Mais êtes-vous certain d'avoir
                                            choisi la bonne allocation? les meilleurs supports? le bon contrat?
                                            Ce service va tenter de répondre à ces questions en respectant votre projet
                                            et votre profil.
                                            On vous fera des propositions mais ce sera à vous de prendre la décision finale.
                                            Vous devez disposer d'un profil <a href="#prices" title="Profil">investor</a> pour utiliser ce service.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/qrcode.png" />
                                    <div class="card-body">
                                        <h2>Conserver partager et diffuser</h2>
                                        <p class="card-text">
                                            Par défaut, tous les rapports produits par ETFReporting sont <b>éphémères</b>
                                            avec une durée de vie limitée à 5 minutes.
                                            Aucune conservation ni exploitation des informations liées
                                            à votre stratégie (paramètres opérations et résultats)

                                            Avec un profil <a href="#prices" title="Profil">investor</a>,
                                            vous disposerez d'un <b>atelier dépot privé</b>, un <em>cloud</em> crypté
                                            pour conserver, éditer et partager vos portefeuilles
                                            avec qui vous voulez (email, réseaux sociaux, QR Code) et quand vous voulez.
                                            Chaque consultation est tracée et précédée d'une valorisation au prix de marché.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="col d-flex">
                                <div class="card shadow-sm">
                                    <img class="bd-placeholder-img card-img-top" height="225" src="~/Assets/images/fees.png" />
                                    <div class="card-body">
                                        <h2>Maitriser vos coûts</h2>
                                        <p class="card-text">
                                            Nos services intègrent le calcul des frais de courtage et des frais de gestion,
                                            le calcul et prélèvement des impôts en fin d'année,
                                            le calcul des charges sociales payées en cas de sortie.
                                            Les frais de gestion sont calculés quotidiennement et prélevés en espèces ou en nombre de parts selon
                                            l'univers d'investissement, et la nature de la gestion (contrat assureur et/ou gestion pilotée)
                                            Les barèmes de courtage sont configurés par contrat pour faciliter le choix entre plusieurs offres.
                                        </p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>



                <hr class="divider divider-light" />
                <h3 class="px-4 py-4 text-primary">IMPORTANT</h3>
                <p class="text-primary text-opacity-75 mb-4">
                    Nous n'avons ni les habilitations, ni l'envie de vous conseiller.
                    Notre mission est de vous donner les clefs pour comprendre un
                    portefeuille investi en ETF et actions.
                    Nous allons partager notre expertise de +30 ans en abordant vos (futurs) placements
                    comme si vous étiez un professionnel, et accélérer votre autonomie sur les marchés financiers.
                    Vous ne trouverez probablement pas de tableau de bord plus complet, plus utile
                    et peut être plus beau dans la lecture de vos placement et l'aide à la décision.
                    <b>Votre retour d'expérience est important</b>. Si vous avez des remarques et des idées de nouveaux services,
                    n'hésitez pas à <a href="#contact" title="Contact us">nous contacter</a>.
                </p>

                <div class="text-center py-5">
                    <a class="btn btn-primary btn-xl" href="#start">Get Started!</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Help -->
<section class="page-section bg-light" id="help">
    <div class="container px-4 px-lg-5">
        <h2 class="text-center mt-0">Aide</h2>
        <hr class="divider" />
        <div class="gx-4 gx-lg-5">

            <div style="padding: 20px; border-radius: 10px; border:1px solid #666; margin-bottom:50px;">
                <p>
                    Les services de ETFReporting.com reposent sur une architecture
                    conçue pour <span class="text-primary">l'Open-banking</span>.
                    La sécurité de vos identifiants et de vos mots de passe reste notre priorité,
                    leur transmission à des tiers autres que votre courtier ou votre teneur de compte étant exclus.
                    Dans l'état actuel des choses, la <a href="#edition">reprise manuelle</a> ou par <a href="#start">intégration de fichier</a> 
                    restent à ce jour les moyens les plus simples, les plus sûrs et les plus efficaces
                    pour analyser vos investissements.
                </p>
                <p>
                    Une fois vos placements repris,
                    si vous êtes détenteur d'un profil <a href="#prices" title="Profil">investor</a>, vos portefeuilles
                    pourront être conservés dans votre atelier privé,
                    un dépôt crypté sur notre Cloud afin d'être ultérieurement valorisés, consultés
                    et, selon vos besoins, partagés avec qui vous souhaitez.
                </p>
            </div>
            <p>
                Pour analyser vos placements et vos modèles, notre service s'appuie sur 2 ensembles autonomes de données:
                <ul>
                    <li>Les propriétés de <a href="#" data-bs-toggle="modal" data-bs-target="#option-modal">votre portefeuille.</a> (le conteneur).</li>
                    <li>Les détails de <a href="#file-properties">votre stratégie</a> (le contenu).</li>
                </ul>
            </p>
            <div id="portfolio-properties" class="py-5">
                <h4 class="mt-4">Votre portefeuille</h4>
                <p>
                    Ces informations pré-remplies sont indépendantes de la stratégie évaluée.
                    Elles sont importantes car elles vont être déterminantes, notamment dans le calcul des coûts, et donc du rendement net de votre portefeuille.
                    Vous êtes donc invité à modifier ou préciser:
                    <ul>
                        <li>Un <b>profil de risques</b> afin de vérifier si votre stratégie obéit à une maitrise de la volatilité;</li>
                        <li>Un <b>benchmark</b>, c'est à dire un ETF qui servira de comparaison;</li>
                        <li>
                            Un <b>univers</b> de placement qui le cas échéant, fixe les frais de gestion du contrat, les taxes et charges applicable
                            ainsi que les frais d'arbitrage;
                        </li>
                        <li>Un barème de <b>courtage</b> applicable à chaque arbitrage;</li>
                        <li>Un taux de frais de <b>gestion pilotée</b> calculés et prélevés en sus des frais de gestion du contrat et des fonds investis;</li>
                        <li>Un pays de <b>domiciliation</b> qui traitera les impôts à payer le cas échéant;</li>
                        <li>Une option indiquant si le service doit automatiquement <b>réinvestir les dividendes</b> perçus;</li>
                        <li>Une option indiquant si le service gère les <b>fractions de titres</b> sur les ETF;</li>
                    </ul>
                    <em class="small">Cliquez sur l'option Enregistrer pour conserver les paramètres saisis afin de les retrouver pour les analyses suivantes.</em>
                </p>
            </div>
            <div id="file-properties" class="py-5">
                <h4>Votre stratégie</h4>
                <p>
                    Qu'il s'agisse de reprises de portefeuille réel ou d'allocations modèles, 
                    vos stratégies peuvent être décrites dans un fichier CSV.
                    En France, le séparateur le "point virgule", les dates sont exprimées au format DD/MM/YY, le séparateur de décimales étant la "virgule".
                    La première ligne du fichier est ignorée (titre des colonnes)
                    Les colonnes sont de gauche à droite:
                    <ul>
                        <li>
                            Le <u>code</u> d'un fonds ou d'une devise. Dans le cas d'un ETF (ex Amundi ETF MSCI World UCITS ETF) ,
                            indiquez son code ISIN (LU1681043599) ou son symbole (CW8) sans la place de négociation.
                            Dans le cas d'un apport ou retrait de capital, indiquez le code ISO de la devise (exemple EUR pour Euro, USD pour Dollar américain, GBP pour la livre sterling ...)
                        </li>
                        <li>La <u>date</u> d'exécution à partir de laquelle votre portefeuille est engagé (actifs et liquidités);</li>
                        <li>La <u>valeur</u> négociée qui, en fonction du <u>code unité</u> ci-dessous, représente soit un montant, soit une quantité ou soit un pourcentage;</li>
                        <li>
                            Le <u>statut</u> de l'opération : mentionnez le code:
                               <ul>
                                   <li><b>EXT</b> pour un apport/retrait en espèces sans investissement;</li>
                                   <li><b>INV</b> pour un apport/retrait en espèces suivi d'un achat/vente sur le titre référencé;</li>
                                   <li><b>IMP</b> pour une reprise de stock sans mouvement d'espèces (exemple inventaire);</li>
                                   <li>aucun code dans tous les autres cas.</li>
                               </ul>
                        </li>
                        <li id="modes">
                            Le code <u>unité</u> permettra d'interpréter la colonne <u>valeur</u> ci-dessus, à savoir:<ul>
                                <li><b>S</b> indique que la valeur indiquée est une quantité de titres acquis (positif) ou vendus (négatif);</li>
                                <li><b>M</b> indique que la valeur indiquée est un montant réglé (négatif pour un achat ou un retrait, positif pour une vente ou un apport) exprimé dans la devise ci-dessous; </li>
                                <li><b>P</b> indique que la valeur indiquée est le poids cible du titre dans le portefeuille (ex 20 signifie que le titre pèsera 20% du portefeuille avec cette opération);</li>
                                <li><b>L</b> indique que la valeur indiquée est le pourcentage des liquidités du portefeuille devant être investis sur le titre (ex 20 signifie que 20% des liquidités du portefeuille seront à l'achat du titre);</li>
                                <li><b>X</b> indique que la valeur indiquée est le pourcentage appliqué au stock (ex -50 signifie que vous réduisez de 50% votre position sur ce titre) </li>
                                <li><b>F</b> indique que la valeur indiquée est un nombre de titres gratuit sans impact sur vos liquidités;</li>
                                <li>Tout autre valeur sera assimilée à l'option <b>S</b>.</li>
                            </ul>
                        </li>
                        <li>Le <u>prix</u> de revient (frais inclus); si vous ne le renseignez pas, la valeur retenue sera le cours de cloture, auquel s'ajoutent 0,10% de frais de courtage;</li>
                        <li>La <u>devise</u> est celle du prix ci-dessus; si vous ne la renseignez pas, c'est la devise de l'ETF référencé qui sera retenue;</li>
                        <li>Un <u>commentaire</u> libre non intégré;</li>
                        <li>
                            Un code <u>programme</u> si vous développez ou reprenez une <b>stratégie DCA</b>.
                            Ce code est composé d'une lettre et d'un chiffre. M1 ou M pour un versement mensuel, M3 pour un versement trimestriel,
                            W pour un versment hedomadaire, W2 bi-hedomadaire etc.
                        </li>
                    </ul>
                </p>
                <em class="small text-primary">
                    Ce format peut être amené à quelques évolutions en fonction des besoins de nos clients.
                    Si un code n'est pas référencé dans nos bases, merci de nous <a href="mailto:admin@etfreporting.com">adresser par email</a> les
                    codes à reprendre. En cas d'incohérence de dates ou de prix, le service notifie que le fichier n'est pas intégré et les raisons
                    de l'échec.
                </em>
            </div>


        </div>
        <div id="samples" class="py-5">
            <h2 class="text-center mt-0">Exemples</h2>
            <hr class="divider" />
            <em class="small text-black-50">
                Cette galerie d'exemples est une liste non exhaustive de stratégies et de portefeuilles.
                On utilise le terme de <u>stratégie</u> pour un backtest sans mention de capital investi,
                et le terme de <u>portefeuille</u> pour une activité, réelle ou fictive, avec des apports et retraits en capitaux.
                Dans tous les cas, pour un même fichier, les résultats obtenus dépendront des <a href="#" data-bs-toggle="modal" data-bs-target="#option-modal">caractéristiques du portefeuille</a>,
                deux portefeuilles différents pouvant donner des résultats très différents.
            </em>
            <div class="row g-4 py-5 row-cols-1 row-cols-lg-4 justify-content-center">
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample1.csv">exemple n°1</a>
                        est une stratégie de type <strong>Buy and Hold</strong>
                        matérialisée par une simple allocation de départ.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample2.csv">exemple n°2</a>
                        est aussi une stratégie de type <strong>Buy and Hold</strong>, mais
                        intégre un rebalancement programmé tous les 6 mois à date anniversaire.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample3.csv">exemple n°3</a>
                        est une stratégie <strong>Buy and Hold</strong>
                        intégrant un rebalancement programmé le 1er jour ouvré de chaque année civile.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample4.csv">exemple n°4</a>
                        est une stratégie <strong>flexible</strong> qui intègre
                        des arbitrages et des changements d'allocations et de titres.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample5.csv">exemple n°5</a>
                        est une stratégie de nature <strong>flexible</strong> variante de la précédente
                        avec des changements d'allocation matérialisée par une réduction d'exposition
                        et un placement de liqiidités.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample6.csv">exemple n°6</a>
                        est une reprise de <strong>portefeuille</strong> initiée avec un premier apport en euros,
                        suivi d'achats et de ventes exprimés en montant ou en nombre de parts.
                        Les prix de revient manquants sont remplacés par les cours de cloture.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample7.csv">exemple n°7</a>
                        est une reprise de <strong>portefeuille</strong> initiée avec un premier apport en euros et des
                        investissements sur ETF. Ce portefeuille est rebalancé à date anniversaire sur son allocation initiale.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample8.csv">exemple n°8</a>
                        est une reprise de <strong>portefeuille</strong>
                        constituée d'apports et de retraits en euros, d'achats et de ventes
                        exprimés en pourcentage, en montant et en nombre de parts.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample9.csv">exemple n°9</a>
                        est une reprise de <strong>portefeuille porteur d'une stratégie DCA</strong>, c'est à dire
                        constituée d'apports et d'investissements périodiques sur 2 ETF exprimés en montant.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample10.csv">exemple n°10</a>
                        est une reprise de <strong>portefeuille porteur d'une stratégie DCA</strong> variante de la précédente reprise,
                        mais complétée par un rebalancement à date anniversaire.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample11.csv">exemple n°11</a>
                        est une reprise d'un <strong>portefeuille</strong> depuis un inventaire donné.
                        Cette reprise est constituée d'une ligne de liquidité,
                        et de positions exprimées en nombre de parts et prix de revient unitaire.
                    </p>
                </div>
                <div class="col d-flex align-items-start">
                    <p>
                        Cet <a href="/Home/DownloadSample?name=sample12.csv">exemple n°12</a>
                        est la reprise d'un <strong>portefeuille</strong>
                        disposant de liquidités, d'actions, d'ETF, de cryptocurrencies
                        en euros et en US dollars.
                    </p>
                </div>
            </div>
        </div>
        <div class="text-center px-5">
            <a class="btn btn-primary btn-xl" href="#start">Get Started!</a>
        </div>
    </div>
</section>


<section class="page-section bg-dark text-bg-dark" id="prices">
    <div class="container px-4 px-lg-5">

        <h2 class="text-center mt-0 text-primary py-5">Profils</h2>

        <div class="row g-4 py-5 row-cols-1 row-cols-sm-2 row-cols-lg-4">

            <div class="col d-flex align-items-start">
                <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
                </div>
                <div>
                    <h3 class="text-center">Saver</h3>
                    <div class="text-primary text-center py-2">
                        Gratuit
                    </div>
                    <p>
                        Accès à tous les <a href="#about" title="services">services</a> de base
                        permettant de comprendre l'état de vos portefeuilles.
                        La plupart des informations de votre tableau de bord
                        ne requiert aucune identification (mode <em>anonymous</em>.
                        D'autres services demandent en revanche votre authentification,
                        mais sans coût.
                    </p>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
                </div>
                <div>
                    <h3 class="text-center">Investor</h3>
                    <div class="text-primary text-center py-2">
                        5/mois
                    </div>
                    <p>
                        Accès à tous les <a href="#about" title="services">services</a> Saver ci-contre,
                        auxquels s'ajoutent les services <b>Météo des ETF</b>, <b>Trend Follower</b>, <b>Partage de portefeuilles</b>
                        <b>Optimisation de portefeuille</b>, ainsi que le service <b>Backtest</b> permettant la simulation
                        de stratégies pilotées par les signaux de marchés.
                    </p>
                    <div class="text-center px-5">
                        <a class="btn btn-primary btn-sm" href="https://lili.am/Subscription">Abonnez-vous</a>
                    </div>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
                </div>
                <div>
                    <h3 class="text-center">Advisor</h3>
                    <div class="text-primary text-center py-2">
                        9/lead
                    </div>
                    <p>
                        Accès au service de gestion de portefeuilles modèles et au service Newsletters.
                        Tous les modèles sont persistents et publics. Ils sont présentés aux profils <b>Investor</b> et <b>Saver</b>
                        tout au long des différents parcours (y compris les comparateurs).
                        Tarification <em>Cost per Lead</em> (email du visiteur)
                    </p>
                    <div class="text-center px-5">
                        <a class="btn btn-primary btn-sm" href="#contact">Contactez-nous</a>
                    </div>
                </div>
            </div>
            <div class="col d-flex align-items-start">
                <div class="icon-square bg-light text-dark flex-shrink-0 me-3">
                </div>
                <div>
                    <h3 class="text-center">Manager</h3>
                    <div class="text-primary text-center py-2">
                        A partir de 0,30/vue
                    </div>
                    <p>
                        Accès réservée aux sociétés de gestion
                        afin de faire la promotion de leurs fonds auprès des différents profils.
                        Affichage pleine page avant présentation des reportings détaillés
                        Tarification <em>Cost per View</em>.
                        Possibilité de <em>Cost per Click</em>.
                    </p>
                    <div class="text-center px-5">
                        <a class="btn btn-primary btn-sm" href="#contact">Contactez-nous</a>
                    </div>
                </div>
            </div>
        </div>
        <hr class="divider" />
        <em class="text-white mb-5">
            A noter enfin, qu'un programme d'affiliation est en cours de préparation.
            Pour plus d'informations, n'hésitez pas à <a href="#contact">nous contacter</a>.
        </em>
    </div>
</section>

<!-- Contact-->
<section class="page-section bg-secondary" id="contact">
    <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-lg-8 col-xl-6 text-center">
                <h2 class="mt-0">Let's Get In Touch!</h2>
                <hr class="divider" />
                <p class="text-white mb-5">
                    Vous êtes investisseur, professionnel du conseil ou de la gestion de portefeuilles?
                    Vous avez des questions ou vous souhaitez voir cooment s'intègrent nos services?
                    Ecrivez-nous, on vous répondra le plus vite possible!
                </p>
            </div>
        </div>
        <div class="row gx-4 gx-lg-5 justify-content-center mb-5">
            <div class="col-lg-6">
                <form id="contactForm">
                    <!-- Name input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="name" name="name" type="text" placeholder="Enter your name..." data-sb-validations="required" />
                        <label for="name">Full name</label>
                        <div class="invalid-feedback" data-sb-feedback="name:required">A name is required.</div>
                    </div>
                    <!-- Email address input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="email" name="email" placeholder="name@example.com" data-sb-validations="required,email" />
                        <label for="email">Email address</label>
                        <div class="invalid-feedback" data-sb-feedback="email:required">An email is required.</div>
                        <div class="invalid-feedback" data-sb-feedback="email:email">Email is not valid.</div>
                    </div>
                    <!-- Phone number input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="phone" name="phone" type="tel" placeholder="(33) 6-15-14-15" data-sb-validations="required" />
                        <label for="phone">Phone number</label>
                        <div class="invalid-feedback" data-sb-feedback="phone:required">A phone number is required.</div>
                    </div>
                    <!-- Message input-->
                    <div class="form-floating mb-3">
                        <textarea class="form-control" id="message" name="message" type="text" placeholder="Enter your message here..." style="height: 10rem" data-sb-validations="required"></textarea>
                        <label for="message">Message</label>
                        <div class="invalid-feedback" data-sb-feedback="message:required">A message is required.</div>
                    </div>
                    <!-- Submit success message-->
                    <!---->
                    <!-- This is what your users will see when the form-->
                    <!-- has successfully submitted-->
                    <div class="d-none" id="submitSuccessMessage">
                        <div class="text-center mb-3">
                            <div class="fw-bolder">Form submission successful!</div>
                            To activate this form, sign up at
                            <br />
                            <a href="https://startbootstrap.com/solution/contact-forms">https://startbootstrap.com/solution/contact-forms</a>
                        </div>
                    </div>
                    <!-- Submit error message-->
                    <!---->
                    <!-- This is what your users will see when there is-->
                    <!-- an error submitting the form-->
                    <div class="d-none" id="submitErrorMessage"><div class="text-center text-danger mb-3">Error sending message!</div></div>
                    <!-- Submit Button-->
                    <div class="d-grid"><button class="btn btn-primary btn-xl" id="submitButton" type="submit">Submit</button></div>
                </form>
            </div>
        </div>
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-lg-4 text-center mb-5 mb-lg-0">
                <i class="bi-phone fs-2 mb-3 text-muted"></i>
                <div><a href="mailto:contact@etfreporting.com">Email us</a></div>
            </div>
        </div>
    </div>
</section>
<!-- Footer-->
<footer class="bg-dark py-5">
    <div class="container px-4 px-lg-5"><div class="small text-center text-muted">Copyright &copy; 2023 - LOYOL SAS - France</div></div>
</footer>


@section scripts
{

    <!-- Latest version of librairies -->
    <script src="~/Scripts/settings.js"></script>
    <script src="~/Scripts/signinController.js"></script>
    <script src="~/Scripts/portfoliosController.js" type="text/javascript"></script>
    <script src="~/Scripts/universesController.js"></script>
    <script src="~/Scripts/operationsController.js"></script>
    <script src="~/Scripts/assetsController.js" type="text/javascript"></script>
    <script src="~/Scripts/session.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.cookie-1.4.1.min.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.serialize.1.0.js"></script>

    <script>
        var saveOptions = function () {
            $.cookie('name', $('#Name').val());
            $.cookie('risk', $('#RiskLevel').val());
            $.cookie('fees', $('#ManagementFeesRate').val());
            $.cookie('benchmark', $('#BenchmarkID').val());
            $.cookie('universe', $('#UniverseID').val());
            $.cookie('domiciliation', $('#DomiciliationID').val());
            $.cookie('tradingrule', $('#TradingRuleID').val());
            $.cookie('allowfraction', $('#AllowFractionalShares').is(':checked'));
            $.cookie('compounding', $('#DividendCompounding').is(':checked'));
            $('#option-modal').modal('toggle');
        }

        var getOptions = function () {
            var cookie = $.cookie('name');
            if (cookie)
                $('#Name').val(cookie);

            cookie = $.cookie('risk');
            if (cookie)
                $('#RiskLevel').val(cookie);

            cookie = $.cookie('fees');
            if (cookie)
                $('#ManagementFeesRate').val(cookie);

            if ($.cookie('allowfraction') == 'true')
                $('#AllowFractionalShares').attr('checked', 'checked');
            else
                $('#AllowFractionalShares').removeAttr('checked');

            if ($.cookie('compounding') == 'true')
                $('#DividendCompounding').attr('checked', 'checked');
            else
                $('#DividendCompounding').removeAttr('checked');
        }

        var records = [];

        var removerow = function (k) {
            records.splice(k, 1);
            $('#evaluations li').each(function (i, li) {
                if ($(this).attr('id') == 'li-' + k)
                    li.remove();
            });
        };

    $(document).ready(function () {

        //$('.datepick input').datepicker({
        //    isRTL: true,
        //    autoclose: true,
        //    todayHighlight: true,
        //    language: 'fr',
        //    format: 'dd-mm-yyyy'
        //});


        var errModal = new bootstrap.Modal(document.getElementById('error-modal'), { keyboard: false });

        // Create a new instance of a controller sign in
        LoyolApp.SignInController();

        // First, we create a new instance of portfolios controller to get and post data with LILI API
        var $ptf = new LoyolApp.PortfolioController(),
            $ast = new LoyolApp.AssetsController(),
            $uni = new LoyolApp.UniversesController(),
            $ope = new LoyolApp.OperationsController(),
            $code = $('#code'),
            $code2 = $('#portfoliocode'),
            $pnl = $('#pnl'),
            $frm = $('form.upload'),
            $frc = $('#contactForm'),
            $fro = $('#operations-upload');


        // trading rules selector
        $ptf.selecttradingrules('#TradingRuleID', function () {
            cookie = $.cookie('tradingrule');
            if (cookie)
                $('#TradingRuleID').val(cookie);
        });

        // universe selector
        $uni.select('#UniverseID', $('#UniverseID').data('notselected'), function () {
            cookie = $.cookie('universe');
            if (cookie)
                $('#UniverseID').val(cookie);

            $('#UniverseID').on('change', function () {
                var id = parseInt(this.value);
                if (id > 0) {
                    $uni.get('Get', { id: id }, function (u) {
                        if (u) {
                            if (u.TradingRule)
                                $('#TradingRuleID').val(u.TradingRule.id);
                            $('#AllowFractionalShares').attr('checked', 'checked');
                            $('#DividendCompounding').attr('checked', 'checked');
                        }
                    });
                }
            });
        })

        // benchmarks selector
        $ast.get('SelectView', null, function (lst) {

            var grp = lst.reduce(function (result, current) {
                result[current.Group.Name] = result[current.Group.Name] || [];
                result[current.Group.Name].push(current);
                return result;
            }, {});

            $('<option selected>').text('Pas de fond benchmark').appendTo('#BenchmarkID');
            $.each(grp, function (i, g) {
                var label = $('<optgroup>').attr('label', i);
                label.appendTo('#BenchmarkID');
                $.each(g, function (j, item) {
                    var o = $('<option value="' + item.Value + '">').text(item.Text);
                    o.appendTo(label);
                });
            });
            var cookie = $.cookie('benchmark');
            if (cookie)
                $('#BenchmarkID').val(cookie);
        });

        // domiciliation selector
        $ast.selectCountry('#DomiciliationID', $('#DomiciliationID').data('notselected'), function () {
            cookie = $.cookie('domiciliation');
            if (cookie)
                $('#DomiciliationID').val(cookie);
        })

        // read options
        getOptions();

        // get or create one portolio with its code
        var getpf = function (callback) {
            var params = $frm.serialize({ checkboxesAsBools: true});
            $ptf.post('UpdateOrCreate', params, function (p) {
                $code.val(p.code);
                $code2.val(p.code);
                callback(p.code);
            });
        }

        // on submit file
        $frm.submit(function () {
            $('.form-container').hide();
            $('.message').removeClass('fade');
            $pnl.empty();
            getpf(function (code) {
                // create params for https post
                var data = new FormData();
                data.append("code", code);
                data.append("culture", "fr-FR"); // '@System.Globalization.CultureInfo.CurrentCulture.Name
                var file = $("#file")[0];
                data.append("file", file.files[0]);
                $ptf.postform('uploadfile', data, function (result) {
                    if (result.Success)
                        window.location = LoyolApp.Settings.domain + '/Portfolios/Reporting/' + result.Code;
                    else {d
                        $('.form-container').show();
                        $('.message').addClass('fade');
                        var warnings = $('#error-message');
                        warnings.empty();
                        warnings.append('<span>' + result.Message + '</span>')
                        var list = warnings.append('<ul></ul>');
                        $.each(result.RuleViolations, function (i, r) {
                            list.append('<li>' + r.ErrorMessage + '</li>');
                        });
                        warnings.attr('hidden', false);
                        errModal.show();

                    }
                });
            });
            return false;
        });

        // contact form
        $frc.submit(function () {
            var data = $(this).serialize();
            $ptf.postcontact(data, function (result) {
                alert("Merci!");
            });
            return false;
        })

        // benchmarks selector
        $ast.get('SelectView', { id: 'Code' }, function (data) {
            var list = $('#datalistOptions');
            $.each(data, function (j, item) {
                var o = $('<option value="' + item.Value + '">').text(item.Text);
                o.appendTo(list);
            });
        });

        var addEval = function (result) {
            var $li = $('<li>'),
                i = records.length;
            $li.attr('id', 'li-' + i)
            var del = '<a href="#edition" onclick="removerow(' + i + ')"> Supprimer</a>';
            $li.html(result.Message + del);
            $li.appendTo($('#evaluations'));
            records.push(result.Object);
        };

        $('.form-add').submit(function () {
            $('#valuedate').val($('#vd').val());
            var params = $(this).serialize();
            $ope.post('Eval', params, function (result) {
                if (result.Success)
                    addEval(result);
                else
                    alert(result.Message);
            })
            return false;
        })

        $('.btn-download').click(function () {
            recordsToTable();
            var params = $fro.serialize();
            $ope.download(params);
            return false;
        })

        var additem = function (rec, name, value) {
            return '<input type="text" value="' + value + '" name="' + rec + name + '">';
        }

        var recordsToTable = function () {
            var tb = $('table tbody:last-child');
            tb.empty();
            records.forEach(function (r, i) {
                var pref = 'Records[' + i + '].';
                var tr = $('<tr>').append(
                    $('<td>').html(additem(pref, 'SecurityID', r.SecurityID)),
                    $('<td>').html(additem(pref, 'ValueDate', r.ValueDate)),
                    $('<td>').html(additem(pref, 'Status', r.Status == null ? '' : r.Status)),
                    $('<td>').html(additem(pref, 'Value', r.Value)),
                    $('<td>').html(additem(pref, 'Units', r.Units)),
                    $('<td>').html(additem(pref, 'Price', r.Price)),
                    $('<td>').html(additem(pref, 'Ccy', r.Ccy)),
                    $('<td>').html(additem(pref, 'ProgramCode', r.ProgramCode == null ? '' : r.ProgramCode))
                );
                tr.attr('id', 'row-' + i);
                tr.appendTo(tb);
            });
        }

        $fro.submit(function () {
            $('.message').removeClass('fade');
            $fro.find('.btn').attr('disabled', 'disabled');
            recordsToTable();
            getpf(function (code) {
                var params = $fro.serialize();
                $ptf.post('uploadoperations', params, function (result) {
                    $fro.find('.btn').removeAttr('disabled');
                    $('.message').addClass('fade');
                    if (result.Success)
                        window.location = LoyolApp.Settings.domain + '/Portfolios/Reporting/' + result.Code;
                    else {
                        $('.form-container').show();
                        var warnings = $('#error-message');
                        warnings.empty();
                        warnings.append('<span>' + result.Message + '</span>')
                        var list = warnings.append('<ul></ul>');
                        $.each(result.RuleViolations, function (i, r) {
                            list.append('<li>' + r.ErrorMessage + '</li>');
                        });
                        warnings.attr('hidden', false);
                        errModal.show();

                    }
                });
            });


            return false;
        });



        $('#status').on('change', function () {
            if ($(this).val() == 'INV') {
                $('#units').val('M');
                $('#label-value').text('Montant');
            }
            else if ($(this).val() == 'EXT') {
                $('#units').val('M');
                $('#label-value').text('Apport/retrait');
            }
            else if ($(this).val() == 'IMP') {
                $('#units').val('S');
                $('#label-value').text('Nombre de titres');
            }
            else {
                $('#units').val('P');
                $('#label-value').text('% Portefeuille');
            }
        })

        $('#units').on('change', function () {
            var sel = $('#units option:selected').text();
            $('#label-value').text(sel);
        })

        $('#assetid').on('keyup', function () {
            if (this.value.toUpperCase() == 'EUR') {
                $('#units').val('M'); // default in amount
                $('#status').val('EXT'); // external
            }
        })

    });

    </script>

}